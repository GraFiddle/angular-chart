!function(){"use strict";function t(){return{restrict:"EA",scope:{options:"="},controller:"AngularChartController"}}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0,e=a.module("angularChart",[]);e.directive("angularChart",t),e.directive("angularchart",t),"function"==typeof define&&define.amd?define("angularChart",["c3","angular"],e):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=e)}(),function(){"use strict";function t(){function t(t){var a={scope:t,dimensionsCallback:null,chartCallback:null,stateCallback:null,dataCallback:null,dataSmallWatcher:null,dataBigWatcher:null,disableStateWatcher:!1};return e(a),n(a),i(a),o(a),s(a),a}function e(t){t.scope.$watch("options.dimensions",function(){a.isFunction(t.dimensionsCallback)&&t.dimensionsCallback()},!0)}function n(t){t.scope.$watch("options.chart",function(){t.chartCallback&&t.chartCallback()},!0)}function i(t){t.scope.$watch("options.state",function(){!t.disableStateWatcher&&a.isFunction(t.stateCallback)&&t.stateCallback()},!0)}function o(t){t.scope.$watch("options.chart.data.watchLimit",function(){s(t)})}function s(t){var e=a.isObject(t.scope.options)&&a.isObject(t.scope.options.chart)&&t.scope.options.chart.data&&a.isNumber(t.scope.options.chart.data.watchLimit)?t.scope.options.chart.data.watchLimit:100,n=0;a.isObject(t.scope.options)&&a.isArray(t.scope.options.data)&&(n=t.scope.options.data.length),e>n?(t.dataSmallWatcher||(t.dataSmallWatcher=r(t)),t.dataBigWatcher&&(t.dataBigWatcher(),t.dataBigWatcher=void 0)):(t.dataBigWatcher||(t.dataBigWatcher=c(t)),t.dataSmallWatcher&&(t.dataSmallWatcher(),t.dataSmallWatcher=void 0))}function r(t){return t.scope.$watch("options.data",function(){a.isFunction(t.dataCallback)&&t.dataCallback(),s(t)},!0)}function c(t){return t.scope.$watch(function(){return t.scope.options.data&&a.isArray(t.scope.options.data)?t.scope.options.data.length:0},function(){a.isFunction(t.dataCallback)&&t.dataCallback(),s(t)})}function u(t,a){t.disableStateWatcher=!0,t.scope.$apply(a),t.disableStateWatcher=!1}function l(t,a){t.scope.$apply(a)}var d={init:t,updateState:u,applyFunction:l};return d}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0;a.module("angularChart").service("AngularChartWatcher",t)}(),function(){"use strict";function t(t){function e(t,e){(a.isObject(t.chart)&&a.isObject(t.chart.zoom)&&t.chart.zoom.enabled===!0||a.isObject(t.chart)&&a.isObject(t.chart.subchart)&&t.chart.subchart.show===!0)&&(a.isObject(t.state)&&a.isObject(t.state)&&a.isArray(t.state.range)?e.zoom(t.state.range):e.unzoom())}function n(t){a.isObject(t.state)||(t.state={}),a.isObject(t.state.range)||(t.state.range=[])}function i(e,i,o){a.isObject(e.chart)&&a.isObject(e.chart.zoom)&&e.chart.zoom.enabled===!0&&(i.zoom.onzoomend=function(i){t.updateState(o,function(){n(e),e.state.range=i}),a.isFunction(e.chart.zoom.onzoomend)&&t.applyFunction(o,function(){e.chart.zoom.onzoomend(i)})}),a.isObject(e.chart)&&a.isObject(e.chart.subchart)&&e.chart.subchart.show===!0&&(i.subchart.onbrush=function(i){t.updateState(o,function(){n(e),e.state.range=i}),a.isFunction(e.chart.subchart.onbrush)&&t.applyFunction(o,function(){e.chart.subchart.onbrush(i)})})}function o(t,a){l.disableSelectionListener=!0,a.forEach(function(a){t.select([a.id],[a.index])}),l.disableSelectionListener=!1}function s(t){l.disableSelectionListener=!0,t.unselect(),l.disableSelectionListener=!1}function r(t,e){a.isObject(t.chart)&&a.isObject(t.chart.data)&&a.isObject(t.chart.data.selection)&&t.chart.data.selection.enabled===!0&&(a.isObject(t.state)&&a.isArray(t.state.selected)?o(e,t.state.selected):s(e))}function c(t){a.isObject(t.state)||(t.state={}),a.isArray(t.state.selected)||(t.state.selected=[])}function u(e,n,i){a.isObject(e.chart)&&a.isObject(e.chart.data)&&a.isObject(e.chart.data.selection)&&e.chart.data.selection.enabled===!0&&(n.data.onselected=function(n,o){l.disableSelectionListener||(t.updateState(i,function(){c(e),e.state.selected.push(n)}),a.isFunction(e.chart.data.onselected)&&t.applyFunction(i,function(){e.chart.data.onselected(n,o)}))},n.data.onunselected=function(n,o){l.disableSelectionListener||(t.updateState(i,function(){c(e),e.state.selected=e.state.selected.filter(function(t){return t.id!==n.id||t.index!==n.index})}),a.isFunction(e.chart.data.onunselected)&&t.applyFunction(i,function(){e.chart.data.onunselected(n,o)}))})}var l={disableSelectionListener:!1,synchronizeZoom:i,applyZoom:e,synchronizeSelection:u,applySelection:r};return l}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0;t.$inject=["AngularChartWatcher"],a.module("angularChart").service("AngularChartState",t)}(),function(){"use strict";function t(t,n,i,o){function s(t,e){return e=e||{},Object.keys(e).forEach(function(n){t[n]=a.isObject(e[n])&&e[n]&&t[n]?s(t[n],e[n]):e[n]}),t}var r=function(t,a){this.chart=null,this.baseConfiguration={},this.configuration={},this.scopeReference=null,this.options={},this.watcher=null,this.init(t,a)};return r.prototype.init=function(a,e){this.watcher=n.init(e),this.baseConfiguration=a,this.scopeReference=e,this.updateCallback();var i=this;t(function(){i.registerCallbacks()})},r.prototype.registerCallbacks=function(){var t=this;this.watcher.dimensionsCallback=function(){t.updateCallback()},this.watcher.chartCallback=function(){t.updateCallback()},this.watcher.dataCallback=function(){t.updateCallback()},this.watcher.stateCallback=function(){t.stateCallback()}},r.prototype.updateCallback=function(){this.configuration=a.copy(this.baseConfiguration),this.buildOptions(),this.convertOptions(),this.applyChartOptions(),this.synchronizeState(),this.generateChart(),this.stateCallback()},r.prototype.buildOptions=function(){this.options=a.isObject(this.scopeReference.options)?this.scopeReference.options:{}},r.prototype.convertOptions=function(){i.convertData(this.options,this.configuration),i.convertDimensions(this.options,this.configuration)},r.prototype.applyChartOptions=function(){this.merge(this.configuration,this.options.chart)},r.prototype.synchronizeState=function(){o.synchronizeZoom(this.options,this.configuration,this.watcher),o.synchronizeSelection(this.options,this.configuration,this.watcher)},r.prototype.generateChart=function(){this.chart=e.generate(this.configuration)},r.prototype.stateCallback=function(){o.applyZoom(this.options,this.chart),o.applySelection(this.options,this.chart)},r.prototype.destroyChart=function(){this.chart.destroy()},r.prototype.merge=a.merge||s,{getInstance:function(t,a){return new r(t,a)}}}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0,e=window.c3?window.c3:"undefined"!=typeof require?require("c3"):void 0;t.$inject=["$timeout","AngularChartWatcher","AngularChartConverter","AngularChartState"],a.module("angularChart").factory("AngularChartService",t)}(),function(){"use strict";function t(){function t(t,e){a.isArray(t.data)&&(e.data.json=t.data)}function e(t,e){if(a.isObject(t.dimensions)){e.axis.y.show=!1;var n={isUse:!1,y:[],y2:[]};a.forEach(t.dimensions,function(i,o){(!a.isDefined(i.show)||i.show)&&e.data.keys.value.push(o),a.isString(i.name)&&(e.data.names[o]=i.name),a.isDefined(i.type)&&(e.data.types[o]=i.type),a.isString(i.color)&&(e.data.colors[o]=i.color),"y2"===i.axis?(e.data.axes[o]="y2",e.axis.y2.show=!0,n.y2.push(o)):"x"!==i.axis&&(e.axis.y.show=!0,n.y.push(o)),n[o]=!0,a.isDefined(i.displayFormat)?(n.inUse=!0,n[o]=i.displayFormat):(a.isDefined(i.prefix)||a.isDefined(i.postfix))&&(n.inUse=!0,n[o]=function(t){return(i.prefix||"")+t+(i.postfix||"")}),i.label===!0&&(e.data.labels.format[o]=n[o]),"x"===i.axis&&(e.data.keys.x=o,e.data.x=o,(a.isString(n[o])||a.isFunction(n[o]))&&(e.axis.x.tick.format=n[o]),-1!==["datetime","date","timeseries"].indexOf(i.dataType)?(e.axis.x.type="timeseries",i.dataFormat&&(e.data.xFormat=i.dataFormat)):-1!==["numeric","number","indexed"].indexOf(i.dataType)?e.axis.x.type="indexed":("category"===i.dataType||a.isArray(t.data)&&t.data[0]&&t.data[0][o]&&t.data[0][o]&&!a.isNumber(t.data[0][o]))&&(e.axis.x.type="category"))}),n.inUse&&(e.tooltip={format:{value:function(t,e,i){return a.isFunction(n[i])?n[i](t):t}}}),a.forEach(["y","y2"],function(i){var o=null,s=null;a.forEach(n[i],function(e){null===o?(o=n[e],s=e):o===n[e]||!a.isFunction(t.dimensions[s].displayFormat)&&!a.isFunction(t.dimensions[e].displayFormat)&&(!a.isDefined(t.dimensions[s].prefix)&&!a.isDefined(t.dimensions[e].prefix)||a.isDefined(t.dimensions[s].prefix)&&a.isDefined(t.dimensions[e].prefix)&&t.dimensions[s].prefix===t.dimensions[e].prefix)&&(!a.isDefined(t.dimensions[s].postfix)&&!a.isDefined(t.dimensions[e].postfix)||a.isDefined(t.dimensions[s].postfix)&&a.isDefined(t.dimensions[e].postfix)&&t.dimensions[s].postfix===t.dimensions[e].postfix)||(o=!1)}),o!==!1&&o!==!0&&null!==o&&(e.axis[i].tick.format=o)})}}var n={convertData:t,convertDimensions:e};return n}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0;a.module("angularChart").service("AngularChartConverter",t)}(),function(){"use strict";function t(t,e,n,i,o){function s(){r(),c(),u(),h=o.getInstance(d,t),l()}function r(){n.when(t.options,function(a){t.options=a})}function c(){t.dataAttributeChartID="chartid"+Math.floor(1000000001*Math.random()),a.element(e).attr("id",t.dataAttributeChartID),d.bindto="#"+t.dataAttributeChartID}function u(){a.element(e).css("display","block")}function l(){t.$on("$destroy",function(){h.destroyChart(d),e.remove()})}var d=a.copy(i),h=null;s()}var a=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0;t.$inject=["$scope","$element","$q","baseConfiguration","AngularChartService"],a.module("angularChart").controller("AngularChartController",t)}(),function(){"use strict";var t=window.angular?window.angular:"undefined"!=typeof require?require("angular"):void 0,a={data:{json:[],keys:{value:[]},names:{},types:{},colors:{},axes:{},labels:{format:{}}},axis:{y:{show:!0,tick:{}},y2:{tick:{}},x:{tick:{}}},zoom:{},subchart:{},tooltip:{format:{}}};t.module("angularChart").value("baseConfiguration",a)}();